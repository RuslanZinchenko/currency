{"version":3,"sources":["components/Selector/Selector.module.css","components/CurrencyList/CurrencyList.module.css","components/CurrencyList/CurrencyList.js","components/SearchBar/SearchBar.js","components/Selector/Selector.js","services/article-api.js","containers/App.js","index.js","components/SearchBar/SearchBar.module.css","containers/App.module.css"],"names":["module","exports","selector","currencyList","list","listItem","CurrencyList","_ref","items","react_default","a","createElement","className","styles","map","item","key","shortid","generate","SearchBar","value","onChangeFilter","searchBar","type","input","onChange","placeholder","Selector","base","onChangeSelector","react_select_browser_esm","options","fetchCurrency","arguments","length","undefined","axios","get","concat","App","state","data","currency","filter","error","changeFilter","e","_this","setState","target","changeSelector","filterCurrency","_this$state","Object","entries","i","toLowerCase","includes","sort","_this2","this","ArticleAPI","then","rates","keys","label","catch","prevProps","prevState","_this3","finally","_this$state2","filteredCurrency","wrapper","components_SearchBar_SearchBar","components_Selector_Selector","currencyInfo","date","components_CurrencyList_CurrencyList","Component","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.5505ef6d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selector\":\"Selector_selector__1zoC7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currencyList\":\"CurrencyList_currencyList__2twcB\",\"list\":\"CurrencyList_list__UVPhb\",\"listItem\":\"CurrencyList_listItem__djEG8\"};","import React from 'react';\nimport shortid from 'shortid';\nimport PropTypes from 'prop-types';\nimport styles from './CurrencyList.module.css';\n\nconst CurrencyList = ({ items }) => (\n  <div className={styles.currencyList}>\n    <ul className={styles.list}>\n      {items.map(item => (\n        <li className={styles.listItem} key={shortid.generate()}>\n          {item}\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nCurrencyList.propTypes = {\n  items: PropTypes.arrayOf.isRequired,\n};\n\nexport default CurrencyList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nconst SearchBar = ({ value, onChangeFilter }) => (\n  <div className={styles.searchBar}>\n    <input\n      type=\"text\"\n      className={styles.input}\n      value={value}\n      onChange={onChangeFilter}\n      placeholder=\"Currency Search...\"\n    />\n  </div>\n);\n\nSearchBar.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChangeFilter: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import React from 'react';\nimport Select from 'react-select';\nimport PropTypes from 'prop-types';\nimport styles from './Selector.module.css';\n\nconst Selector = ({ base, onChangeSelector }) => (\n  <div>\n    <Select\n      options={base}\n      className={styles.selector}\n      onChange={onChangeSelector}\n      placeholder=\"Base Currency\"\n    />\n  </div>\n);\n\nSelector.propTypes = {\n  base: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.string.isRequired,\n      label: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  onChangeSelector: PropTypes.func.isRequired,\n};\n\nexport default Selector;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.exchangeratesapi.io/latest';\n\n/* eslint-disable-next-line */\nexport const fetchCurrency = (base = 'USD') =>\n  axios.get(`${BASE_URL}?base=${base}`);\n","import React, { Component } from 'react';\nimport CurrencyList from '../components/CurrencyList/CurrencyList';\nimport SearchBar from '../components/SearchBar/SearchBar';\nimport Selector from '../components/Selector/Selector';\nimport * as ArticleAPI from '../services/article-api';\nimport styles from './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    data: {},\n    currency: {},\n    selector: [],\n    base: null,\n    filter: '',\n    error: null,\n  };\n\n  componentDidMount() {\n    ArticleAPI.fetchCurrency()\n      .then(data =>\n        this.setState({\n          data: data.data,\n          currency: data.data.rates,\n          selector: Object.keys(data.data.rates).map(i => ({\n            value: i,\n            label: i,\n          })),\n        }),\n      )\n      .catch(error => this.setState({ error }));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { base } = this.state;\n    if (prevState !== this.state && base) {\n      ArticleAPI.fetchCurrency(base)\n        .then(data =>\n          this.setState({\n            data: data.data,\n            currency: data.data.rates,\n            selector: Object.keys(data.data.rates).map(i => ({\n              value: i,\n              label: i,\n            })),\n          }),\n        )\n        .catch(error => this.setState({ error }))\n        .finally(() => this.setState({ base: null }));\n    }\n  }\n\n  changeFilter = e => {\n    this.setState({ filter: e.target.value });\n  };\n\n  changeSelector = e => {\n    this.setState({ base: e.value });\n  };\n\n  filterCurrency = () => {\n    const { currency, filter } = this.state;\n    const currencyToArr = Object.entries(currency);\n    const keyArr = currencyToArr.filter(i =>\n      i[0].toLowerCase().includes(filter.toLowerCase()),\n    );\n    return keyArr.sort().map(i => `${i[0]}: ${i[1]}`);\n  };\n\n  render() {\n    const { data, currency, selector, filter, error } = this.state;\n    const filteredCurrency = this.filterCurrency(currency, filter);\n\n    return (\n      <div className={styles.wrapper}>\n        {error || ''}\n        <SearchBar value={filter} onChangeFilter={this.changeFilter} />\n        <Selector base={selector} onChangeSelector={this.changeSelector} />\n        <div className={styles.currencyInfo}>\n          <p>Base: {data.base}</p>\n          <p>Date: {data.date}</p>\n        </div>\n        <CurrencyList items={filteredCurrency} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__1vuMx\",\"input\":\"SearchBar_input__1xXos\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__3SdoO\",\"currencyInfo\":\"App_currencyInfo__3AQiP\"};"],"sourceRoot":""}